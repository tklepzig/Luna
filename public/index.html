<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="msapplication-tap-highlight" content="no" />
    <meta name="viewport" content="user-scalable=yes, initial-scale=1.0, maximum-scale=10.0, width=device-width" />
    <title>Luna</title>
    <link rel="stylesheet" href="./bower_components/lcars.web/dist/lcars.web.min.css">
    <script src="./bower_components/jquery/dist/jquery.min.js" charset="utf-8"></script>
    <script src="./bower_components/socket.io-client/socket.io.js" charset="utf-8"></script>
    <script src="./bower_components/lcars.web/dist/lcars.web.min.js" charset="utf-8"></script>
    <script src="./bower_components/fullscreenjs/fullscreen.min.js" charset="utf-8"></script>
    <style media="screen">
        #main.fullscreen
        {
            width: 100%;
        }
    </style>
</head>

<body ontouchstart="" class="layout-v layout-fill">
    <script>
        var socket = io();
    </script>
    <button class="button flex-15 dim blue" id="enterFullscreen">Enter Fullscreen</button>
    <div class="flex-2"></div>
    <div style="background: inherit;" class="flex layout-v" id="main">
        <button class="button flex-15 light orange" data-key="P">Previous</button>
        <div class="flex-2"></div>
        <button class="button flex orange" data-key="N">Next</button>
    </div>
    <script>
        var downEvent;
        var moveEvent;
        var upEvent;

        if ("ontouchstart" in window) {
            downEvent = "touchstart";
            moveEvent = "touchmove";
            upEvent = "touchend";
        } else if ("pointerdown" in window) {
            downEvent = "pointerdown";
            moveEvent = "pointermove";
            upEvent = "pointerup";
        } else {
            downEvent = "mousedown";
            moveEvent = "mousemove";
            upEvent = "mouseup";
        }

        $(document).on(upEvent, ".button[data-key]", function() {
            socket.emit('keyboard-pressKey', $(this).data('key'));
        });


        $("#enterFullscreen").on(upEvent, function() {
            fullscreen.toggle($("#main").get(0));
            $("#main").toggleClass('fullscreen');
        });
    </script>
</body>

</html>
